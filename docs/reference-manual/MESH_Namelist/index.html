

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>19. MESH Namelist &mdash; Truchas Reference Manual 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=93b25530" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>window.MathJax = {"chtml": {"displayAlign": "left", "displayIndent": "2em"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="20. MICROSTRUCTURE Namelist" href="../MICROSTRUCTURE_Namelist/index.html" />
    <link rel="prev" title="18. MATERIAL and PHASE Namelists" href="../MATERIAL_and_PHASE_Namelists/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Truchas Reference Manual
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BODY_Namelist/index.html">2. BODY Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex_function_namelist.html">3. COMPLEX_FUNCTION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex_vfunction_namelist.html">4. COMPLEX_VFUNCTION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DIFFUSION_Solver_Namelist/index.html">5. DIFFUSION Solver Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ELECTROMAGNETIC_BC_Namelist/index.html">6. ELECTROMAGNETIC_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EM_MESH_Namelist/index.html">7. EM_MESH Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ENCLOSURE_RADIATION_Namelist/index.html">8. ENCLOSURE_RADIATION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ENCLOSURE_SURFACE_Namelist/index.html">9. ENCLOSURE_SURFACE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EVAPORATION_Namelist/index.html">10. EVAPORATION Namelist (Experimental)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fdme_solver_namelist.html">11. FDME_SOLVER Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FLOW_Namelist/index.html">12. FLOW Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FLOW_BC_Namelist/index.html">13. FLOW_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FLOW_PRESSURE_SOLVER_and_FLOW_VISCOUS_SOLVER_Namelists/index.html">14. FLOW_PRESSURE_SOLVER and FLOW_VISCOUS_SOLVER Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FUNCTION_Namelist/index.html">15. FUNCTION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../induction_heating_namelist.html">16. INDUCTION_HEATING Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../INDUCTION_SOURCE_FIELD_Namelist/index.html">17. INDUCTION_SOURCE_FIELD Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MATERIAL_and_PHASE_Namelists/index.html">18. MATERIAL and PHASE Namelists</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">19. MESH Namelist</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">19.1. Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mesh-namelist-features">MESH Namelist Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#components">19.2. Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#external-mesh-file">External Mesh file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mesh-file">mesh_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interface-side-sets">Interface_Side_Sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gap-element-blocks-deprecated">gap_element_blocks (deprecated)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exodus-block-modulus">exodus_block_modulus</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#internally-generated-mesh">Internally Generated Mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#x-axis-y-axis-z-axis">x_axis, y_axis, z_axis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#noise-factor-expert">noise_factor (expert)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-variables">Common variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#coordinate-scale-factor">coordinate_scale_factor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rotation-angles">rotation_angles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partitioner">partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partition-file">partition_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#first-partition">first_partition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#metis-mesh-partitioning">METIS Mesh Partitioning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#metis-ptype">metis_ptype</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-iptype">metis_iptype</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-ctype">metis_ctype</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-ncuts">metis_ncuts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-niter">metis_niter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-ufactor">metis_ufactor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-minconn">metis_minconn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-contig">metis_contig</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-seed">metis_seed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metis-dbglvl">metis_dbglvl</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../MICROSTRUCTURE_Namelist/index.html">20. MICROSTRUCTURE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../microwave_heating_namelist.html">21. MICROWAVE_HEATING Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NUMERICS_Namelist/index.html">22. NUMERICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OUTPUTS_Namelist/index.html">23. OUTPUTS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PHASE_CHANGE_Namelist/index.html">24. PHASE_CHANGE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PHYSICAL_CONSTANTS_Namelist/index.html">25. PHYSICAL_CONSTANTS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PHYSICS_Namelist/index.html">26. PHYSICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PROBE_Namelist/index.html">27. PROBE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RESTART_Namelist/index.html">28. RESTART Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SIMULATION_CONTROL_Namelist/index.html">29. SIMULATION_CONTROL Namelist (Experimental)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SOLID_MECHANICS_Namelist/index.html">30. SOLID_MECHANICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SOLID_MECHANICS_BC_Namelist/index.html">31. SOLID_MECHANICS_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SPECIES_BC_Namelist/index.html">32. SPECIES_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SPECIES_SOURCE_Namelist/index.html">33. SPECIES_SOURCE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tdme_joule_solver_namelist.html">34. TDME_JOULE_SOLVER Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../THERMAL_BC_Namelist/index.html">35. THERMAL_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../THERMAL_SOURCE_Namelist/index.html">36. THERMAL_SOURCE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOOLHEAD_Namelist/index.html">37. TOOLHEAD Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOOLPATH_Namelist/index.html">38. TOOLPATH Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TURBULENCE_Namelist/index.html">39. TURBULENCE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VFUNCTION_Namelist/index.html">40. VFUNCTION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VISCOPLASTIC_MODEL_Namelist/index.html">41. VISCOPLASTIC_MODEL Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VISCOPLASTIC_SOLVER_Namelist/index.html">42. VISCOPLASTIC_SOLVER Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rade/index.html">43. Radiation Enclosure Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">44. <code class="docutils literal notranslate"><span class="pre">truchas</span></code> Python Module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Truchas Reference Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">19. </span>MESH Namelist</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/MESH_Namelist/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound" id="mesh-namelist">
</div>
<section id="id1">
<h1><span class="section-number">19. </span>MESH Namelist<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<section id="overview">
<h2><span class="section-number">19.1. </span>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="#mesh-namelist"><span class="std std-ref">MESH</span></a> namelist specifies the common mesh used by all physics models other than the induction heating model, which uses a separate tetrahedral mesh specified by the <a class="reference internal" href="../EM_MESH_Namelist/index.html#em-mesh-namelist"><span class="std std-ref">EM_MESH</span></a> namelist. For simple demonstration problems, a rectilinear hexahedral mesh of a brick domain can be defined, but for most applications the mesh will need to be generated beforehand by some third party tool or tools and saved asa file that Truchas will read. At this time Exodus II <a class="footnote-reference brackets" href="#footcite-sjaardema2006exodus" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> is the only supported mesh format (also sometimes known as Genesis). This well-known format is used by some mesh generation tools (<a class="reference external" href="https://cubit.sandia.gov/">Cubit</a>, for example) and utilities exist for translating from other formats to Exodus II. The unstructured 3D mesh may be a general mixed-element mesh consisting of non-degenerate hexehedral, tetrahedral, pyramid, and wedge/prism elements. The Exodus II format supports a partitioning of the elements into element blocks. It also supports the definition of side sets, which are collections of oriented element faces that describe mesh surfaces, either internal or boundary, and node sets which are collections of mesh nodes. Extensive use is made of this additional mesh metadata in assigning materials, initial conditions, boundary conditions, etc., to the mesh.</p>
<section id="mesh-namelist-features">
<h3>MESH Namelist Features<a class="headerlink" href="#mesh-namelist-features" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line"><strong>Required/Optional        :</strong> Required</div>
<div class="line"><strong>Single/Multiple Instances:</strong> Single</div>
</div>
</section>
</section>
<section id="components">
<h2><span class="section-number">19.2. </span>Components<a class="headerlink" href="#components" title="Link to this heading"></a></h2>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#external-mesh-file" id="id7">External Mesh file</a></p>
<ul>
<li><p><a class="reference internal" href="#mesh-file" id="id8">mesh_file</a></p></li>
<li><p><a class="reference internal" href="#interface-side-sets" id="id9">Interface_Side_Sets</a></p></li>
<li><p><a class="reference internal" href="#gap-element-blocks-deprecated" id="id10">gap_element_blocks (deprecated)</a></p></li>
<li><p><a class="reference internal" href="#exodus-block-modulus" id="id11">exodus_block_modulus</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#internally-generated-mesh" id="id12">Internally Generated Mesh</a></p>
<ul>
<li><p><a class="reference internal" href="#x-axis-y-axis-z-axis" id="id13">x_axis, y_axis, z_axis</a></p></li>
<li><p><a class="reference internal" href="#noise-factor-expert" id="id14">noise_factor (expert)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#common-variables" id="id15">Common variables</a></p>
<ul>
<li><p><a class="reference internal" href="#coordinate-scale-factor" id="id16">coordinate_scale_factor</a></p></li>
<li><p><a class="reference internal" href="#rotation-angles" id="id17">rotation_angles</a></p></li>
<li><p><a class="reference internal" href="#partitioner" id="id18">partitioner</a></p></li>
<li><p><a class="reference internal" href="#partition-file" id="id19">partition_file</a></p></li>
<li><p><a class="reference internal" href="#first-partition" id="id20">first_partition</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#metis-mesh-partitioning" id="id21">METIS Mesh Partitioning</a></p>
<ul>
<li><p><a class="reference internal" href="#metis-ptype" id="id22">metis_ptype</a></p></li>
<li><p><a class="reference internal" href="#metis-iptype" id="id23">metis_iptype</a></p></li>
<li><p><a class="reference internal" href="#metis-ctype" id="id24">metis_ctype</a></p></li>
<li><p><a class="reference internal" href="#metis-ncuts" id="id25">metis_ncuts</a></p></li>
<li><p><a class="reference internal" href="#metis-niter" id="id26">metis_niter</a></p></li>
<li><p><a class="reference internal" href="#metis-ufactor" id="id27">metis_ufactor</a></p></li>
<li><p><a class="reference internal" href="#metis-minconn" id="id28">metis_minconn</a></p></li>
<li><p><a class="reference internal" href="#metis-contig" id="id29">metis_contig</a></p></li>
<li><p><a class="reference internal" href="#metis-seed" id="id30">metis_seed</a></p></li>
<li><p><a class="reference internal" href="#metis-dbglvl" id="id31">metis_dbglvl</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="external-mesh-file">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">External Mesh file</a><a class="headerlink" href="#external-mesh-file" title="Link to this heading"></a></h3>
<p>In typical usage, the mesh will be read from a specified Exodus II mesh file. Other input variables that follow specify optional modifications that can be made to the mesh after it is read.</p>
<section id="mesh-file">
<span id="m-mf"></span><h4><a class="toc-backref" href="#id8" role="doc-backlink">mesh_file</a><a class="headerlink" href="#mesh-file" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the path to the Exodus II mesh file. If not an absolute path, it will be interpreted as a path relative to the Truchas input file directory.</div>
<div class="line"><strong>Type</strong>        : case-sensitive string</div>
<div class="line"><strong>Default</strong>     : none</div>
</div>
</section>
<section id="interface-side-sets">
<span id="m-iss"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink">Interface_Side_Sets</a><a class="headerlink" href="#interface-side-sets" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : A list of side set IDs from the ExodusII mesh identifying internal mesh surfaces that will be treated specially by the heat/species transport solver.</div>
<div class="line"><strong>Type</strong>        : integer list</div>
<div class="line"><strong>Default</strong>     : An empty list of side set IDs.</div>
<div class="line"><strong>Valid Values</strong>: Any side set ID whose faces are internal to the mesh.</div>
<div class="line"><strong>Notes</strong>       : The heat/species transport solver requires that boundary conditions are imposed along the specified surface. Typically these will be interface conditions defined by <a class="reference internal" href="../THERMAL_BC_Namelist/index.html#thermal-bc-namelist"><span class="std std-ref">THERMAL_BC</span></a> namelists, but in unusual use cases they could also be external boundary conditions defined by the same namelists. In the latter case it is necessary to understand that the solver views the mesh as having been sliced open along the specified internal surfaces creating matching pairs of additional external boundary and, where interface conditions are not imposed, boundary conditions must be imposed on both sides of the interface.</div>
</div>
</section>
<section id="gap-element-blocks-deprecated">
<span id="m-geb"></span><h4><a class="toc-backref" href="#id10" role="doc-backlink">gap_element_blocks (deprecated)</a><a class="headerlink" href="#gap-element-blocks-deprecated" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : A list of element block IDs from an Exodus II mesh that are to be treated as gap elements.</div>
<div class="line"><strong>Type</strong>        : integer list</div>
<div class="line"><strong>Default</strong>     : An empty list of element block IDs.</div>
<div class="line"><strong>Valid Values</strong>: Any element block ID.</div>
<div class="line"><strong>Notes</strong>       : Any element block ID in the mesh file can be specified,
but elements that are not connected such that they can function as gap
elements or are not consistent with side set definitions will almost certainly
result in incorrect behavior. The code does not check for these inconsistencies.
The heat/species transport solver drops these elements from its view of the
mesh and treats them instead as an internal interface; see the notes to
<a class="reference internal" href="#m-iss"><span class="std std-ref">interface_side_sets</span></a>. The block IDs specified here can be used as
values for <a class="reference internal" href="../THERMAL_BC_Namelist/index.html#tbc-fsi"><span class="std std-ref">face_set_ids</span></a> from the
<a class="reference internal" href="../THERMAL_BC_Namelist/index.html#thermal-bc-namelist"><span class="std std-ref">THERMAL_BC</span></a> namelist.</div>
</div>
</section>
<section id="exodus-block-modulus">
<span id="m-ebm"></span><h4><a class="toc-backref" href="#id11" role="doc-backlink">exodus_block_modulus</a><a class="headerlink" href="#exodus-block-modulus" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : When importing an Exodus II mesh, the element block IDs are replaced by their value modulo this parameter. Set the parameter to 0 to disable this procedure.</div>
<div class="line"><strong>Type</strong>        : integer</div>
<div class="line"><strong>Default</strong>     : 10000</div>
<div class="line"><strong>Valid Values</strong>: <span class="math notranslate nohighlight">\(\geq 0\)</span></div>
<div class="line"><strong>Notes</strong>       : This parameter helps solve a problem posed by mixed-element meshes created by Cubit and Trelis. In those tools a user may define an element block comprising multiple element types. But when exported in the Exodus II format, which doesn’t support blocks with mixed element types, the element block will be written as multiple Exodus II blocks, one for each type of element. One of the blocks will retain the user-specified ID of the original block. The IDs of the others will be that ID plus an offset specific to the element type. For example, if the original block ID was 1, hexahedra in the block will be written to a block with ID 1, tetrahedra to a block with ID <span class="math notranslate nohighlight">\(10001\)</span>, pyramids to a block with ID 100001, and wedges to a block with ID <span class="math notranslate nohighlight">\(200001\)</span>. These are the default offset values, and they can be set in Cubit/Trelis; see their documentation for details on how the IDs are generated. It is important to note that this reorganization of element blocks occurs silently and so the user may be unaware that it has happened. In order to reduce the potential for input errors, Truchas will by default convert the block IDs to congruent values modulo <span class="math notranslate nohighlight">\(N\)</span> in the interval <span class="math notranslate nohighlight">\([1,N−1]\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is the value of this parameter. The default value <span class="math notranslate nohighlight">\(10000\)</span> is appropriate for the default configuration of Cubit/Trellis, and restores the original user-specified block IDs. Note that this effectively limits the range of element block IDs to <span class="math notranslate nohighlight">\([1,N−1]\)</span>.</div>
</div>
<p>The element block IDs are modified immediately after reading the file. Any input parameters that refer to block IDs must refer to the modified IDs.</p>
</section>
</section>
<section id="internally-generated-mesh">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Internally Generated Mesh</a><a class="headerlink" href="#internally-generated-mesh" title="Link to this heading"></a></h3>
<p>A rectilinear hexahedral mesh for a brick domain <span class="math notranslate nohighlight">\([x_{min},x_{max}] × [y_{min},y_{max}] × [z_{min},z_{max}]\)</span> can be generated internally as part of a Truchas simulation using the following input variables. The mesh is the tensor product of 1D grids in each of the coordinate directions. Each coordinate grid is defined by a coarse grid whose intervals are subdivided into subintervals, optionally with biased sizes. The generated Exodus II mesh consists of a single element block with ID 1, and a side set is defined for each of the six sides of the domain with IDs 1 through 6 for the <span class="math notranslate nohighlight">\(x=x_{min}, x=x_{max}, y=y_{min}, y=y_{max}, z=z_{min},\)</span> and <span class="math notranslate nohighlight">\(z=z_{max}\)</span> sides, respectively. In addition, a different node set is defined for each of the 8 nodes at the corners of the domain, with IDs 1 through 8. The first node set is the <span class="math notranslate nohighlight">\((x_{min},y_{min},z_{min})\)</span> corner. It is followed by the remaining corners on the <span class="math notranslate nohighlight">\(z=z_{min}\)</span> side in a counter-clockwise order with respect to the <span class="math notranslate nohighlight">\(z\)</span> axis, and then the corners on the <span class="math notranslate nohighlight">\(z=z_{max}\)</span> side in the analogous manner. Note that while the mesh is formally structured, it is represented internally as a general unstructured mesh.</p>
<section id="x-axis-y-axis-z-axis">
<span id="m-xyza"></span><h4><a class="toc-backref" href="#id13" role="doc-backlink">x_axis, y_axis, z_axis</a><a class="headerlink" href="#x-axis-y-axis-z-axis" title="Link to this heading"></a></h4>
<p>Data that describes the grid in each of the coordinate directions. The tensor product of these grids define the nodes of the 3D mesh. The data for each coordinate grid consists of these three component arrays:</p>
<table class="tight-table docutils align-default" id="grid-mesh-options">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 83.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>%coarse_grid</strong></p></td>
<td><p>A strictly increasing list of two or more real values that define the points of the coarse grid for the coordinate direction. The first and last values define the extent of the domain in this direction.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>%intervals</strong></p></td>
<td><p>A list of postive integers defining the number of subintervals into which each corresponding coarse grid interval should be subdivided. The number of values must be one less than the number of coarse grid points.</p></td>
</tr>
<tr class="row-even"><td><p><strong>%ratio</strong></p></td>
<td><p>An optional list of positive real values that define the ratio of the lengths of successive subintervals for each coarse grid interval. The default is to subdivide into equal length subintervals. If specified, the number of values must be one less than the number of coarse grid points.</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#fig-mesh-internal-schematic"><span class="std std-numref">Figure 19.2.1</span></a> for an example. That is a mesh generated by the following input.</p>
<div class="highlight-default notranslate" id="internal-mesh-example-script"><div class="highlight"><pre><span></span><span class="n">x_axis</span><span class="o">%</span><span class="n">coarse_grid</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.67</span><span class="p">,</span> <span class="mf">1.33</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="n">x_axis</span><span class="o">%</span><span class="n">intervals</span>   <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span>
<span class="n">x_axis</span><span class="o">%</span><span class="n">ratio</span>       <span class="o">=</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.7</span>
<span class="n">y_axis</span><span class="o">%</span><span class="n">coarse_grid</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span>
<span class="n">y_axis</span><span class="o">%</span><span class="n">intervals</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span>
<span class="n">y_axis</span><span class="o">%</span><span class="n">ratio</span>       <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">z_axis</span><span class="o">%</span><span class="n">coarse_grid</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span>
<span class="n">z_axis</span><span class="o">%</span><span class="n">intervals</span>   <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<figure class="align-center" id="id6">
<span id="fig-mesh-internal-schematic"></span><a class="reference internal image-reference" href="../_images/grid-plot.png"><img alt="../_images/grid-plot.png" src="../_images/grid-plot.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 19.2.1 </span><span class="caption-text">Top xy surface of the rectilinear mesh generated by the <a class="reference internal" href="#internal-mesh-example-script"><span class="std std-ref">example input</span></a> shown.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="noise-factor-expert">
<span id="m-nf"></span><h4><a class="toc-backref" href="#id14" role="doc-backlink">noise_factor (expert)</a><a class="headerlink" href="#noise-factor-expert" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : If specified with a positive value, the coordinates of each mesh node will be perturbed by uniformly distributed random amount whose magnitude will not exceed this value times the local cell size at the node. Nodes on the boundary are not perturbed in directions normal to the boundary. This is only useful for testing.</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>: <span class="math notranslate nohighlight">\(\in [0,0.3]\)</span></div>
</div>
</section>
</section>
<section id="common-variables">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Common variables</a><a class="headerlink" href="#common-variables" title="Link to this heading"></a></h3>
<p>The following variables apply to both types of meshes.</p>
<section id="coordinate-scale-factor">
<span id="m-csf"></span><h4><a class="toc-backref" href="#id16" role="doc-backlink">coordinate_scale_factor</a><a class="headerlink" href="#coordinate-scale-factor" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : An optional factor by which to scale all mesh node coordinates.</div>
<div class="line"><strong>Type</strong>        : real</div>
<div class="line"><strong>Default</strong>     : 1.0</div>
<div class="line"><strong>Valid Values</strong>: <span class="math notranslate nohighlight">\(\gt 0\)</span></div>
</div>
</section>
<section id="rotation-angles">
<span id="m-ra"></span><h4><a class="toc-backref" href="#id17" role="doc-backlink">rotation_angles</a><a class="headerlink" href="#rotation-angles" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : A list of 3 angles, given in degrees, specifying the amount of counter-clockwise rotation about the x, y, and z-axes to apply to the mesh. The rotations are done sequentially in that order. A negative angle is a clockwise rotation, and a zero angle naturally implies no rotation.</div>
<div class="line"><strong>Type</strong>        : real 3-vector</div>
<div class="line"><strong>Default</strong>     : <span class="math notranslate nohighlight">\((0.0,\:0.0,\:0.0)\)</span></div>
</div>
</section>
<section id="partitioner">
<span id="m-p"></span><h4><a class="toc-backref" href="#id18" role="doc-backlink">partitioner</a><a class="headerlink" href="#partitioner" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : The partitioning method used to generate the parallel decomposition of the mesh.</div>
<div class="line"><strong>Type</strong>        : case-insensitive string</div>
<div class="line"><strong>Default</strong>     : “metis”</div>
<div class="line"><strong>Valid Values</strong>: “metis”, “file”, “block”</div>
<div class="line"><strong>Notes</strong>       :</div>
</div>
<table class="tight-table docutils align-default" id="partitioner-options">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 83.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>metis</strong></p></td>
<td><p>uses the well-known METIS library <a class="footnote-reference brackets" href="#footcite-karypis1998fast" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> to partition the dual graph of the mesh at runtime. This method has a number of options which are described below.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>file</strong></p></td>
<td><p>reads the partitioning of the mesh cells from a disk file; see <a class="reference internal" href="#m-pf"><span class="std std-ref">partition_file</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>block</strong></p></td>
<td><p>partitions the mesh cells into nearly equal-sized blocks of consecutively numbered cells according their numbering in the mesh file. The quality of this naive decomposition entirely depends on the given ordering of mesh cells, and thus this option is not generally recommended.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="partition-file">
<span id="m-pf"></span><h4><a class="toc-backref" href="#id19" role="doc-backlink">partition_file</a><a class="headerlink" href="#partition-file" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the path to the mesh cell partition file, and is required when <a class="reference internal" href="#m-p"><span class="std std-ref">partitioner</span></a> is <strong>file</strong>. If not an absolute path, it will be interpreted as a path relative to the Truchas input file directory.</div>
<div class="line"><strong>Type</strong>        : case-sensitive string</div>
<div class="line"><strong>Default</strong>     : none</div>
<div class="line"><strong>Notes</strong>       : The format of this text file consists of a sequence of integer values, one value or multiple values per line. The first value is the partition number of the first cell, the second value the partition number of the second cell, and so forth. The number of values must equal the number of mesh cells. The file may use either a 0-based or 1-based numbering convention for the partitions. Popular mesh partitioning tools typically use 0-based partition numbering, and so the default is to assume 0-based numbering; use <a class="reference internal" href="#m-fp"><span class="std std-ref">first_partition</span></a> to specify 1-based numbering.</div>
</div>
</section>
<section id="first-partition">
<span id="m-fp"></span><h4><a class="toc-backref" href="#id20" role="doc-backlink">first_partition</a><a class="headerlink" href="#first-partition" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the number given the first partition in the numbering convention used in the partition file. Either 0-based or 1-based numbering is allowed.</div>
<div class="line"><strong>Type</strong>        : integer</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>: 0 or 1</div>
</div>
</section>
</section>
<section id="metis-mesh-partitioning">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">METIS Mesh Partitioning</a><a class="headerlink" href="#metis-mesh-partitioning" title="Link to this heading"></a></h3>
<p>When <strong>metis</strong> is specified for <strong>partitioner</strong>, a graph partitioning procedure from the METIS library isused to partition the dual graph of the mesh. This is the graph whose nodes are the mesh cells and edges are the faces shared by cells. The partitioning procedures have the following integer-valued options that may be specified, though all have reasonable defaults so that none must be specified. See the METIS documentation <a class="footnote-reference brackets" href="#footcite-karypis1998fast" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> for more details on these options.</p>
<section id="metis-ptype">
<h4><a class="toc-backref" href="#id22" role="doc-backlink">metis_ptype</a><a class="headerlink" href="#metis-ptype" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the partitioning method.</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>:</div>
<div class="line">0 - Multilevel recursive bisection</div>
<div class="line">1 - Multilevel <span class="math notranslate nohighlight">\(k\)</span>-way partitioning</div>
</div>
</section>
<section id="metis-iptype">
<h4><a class="toc-backref" href="#id23" role="doc-backlink">metis_iptype</a><a class="headerlink" href="#metis-iptype" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the algorithm used during initial partitioning (recursive bisection only). Possible values are:</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>:</div>
<div class="line">0 - Grows a bisection using a greedy strategy</div>
<div class="line">1 - Computes a bisection at random followed by a refinement</div>
</div>
</section>
<section id="metis-ctype">
<h4><a class="toc-backref" href="#id24" role="doc-backlink">metis_ctype</a><a class="headerlink" href="#metis-ctype" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the matching scheme to be used during coarsening.</div>
<div class="line"><strong>Default</strong>     : 1</div>
<div class="line"><strong>Valid Values</strong>:</div>
<div class="line">0 - Random matching</div>
<div class="line">1 - Sorted heavy-edge matching</div>
</div>
</section>
<section id="metis-ncuts">
<h4><a class="toc-backref" href="#id25" role="doc-backlink">metis_ncuts</a><a class="headerlink" href="#metis-ncuts" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the number of different partitionings that will be computed. The final partitioning will be the one that achieves the best edgecut.</div>
<div class="line"><strong>Default</strong>     : 1</div>
</div>
</section>
<section id="metis-niter">
<h4><a class="toc-backref" href="#id26" role="doc-backlink">metis_niter</a><a class="headerlink" href="#metis-niter" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the number of iterations of the refinement algorithm at each stage of the uncoarsening process.</div>
<div class="line"><strong>Default</strong>     : 10</div>
</div>
</section>
<section id="metis-ufactor">
<h4><a class="toc-backref" href="#id27" role="doc-backlink">metis_ufactor</a><a class="headerlink" href="#metis-ufactor" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the maximum allowed load imbalance among the partitions. A value of <span class="math notranslate nohighlight">\(n\)</span> indicates that the allowed load imbalance is <span class="math notranslate nohighlight">\((1 +n)/1000\)</span>. The default is <span class="math notranslate nohighlight">\(1\)</span> for recursive bisection (i.e., an imbalance of <span class="math notranslate nohighlight">\(1.001\)</span>) and the default value is <span class="math notranslate nohighlight">\(30\)</span> for <span class="math notranslate nohighlight">\(k\)</span>-way partitioning (i.e., an imbalance of <span class="math notranslate nohighlight">\(1.03\)</span>).</div>
</div>
</section>
<section id="metis-minconn">
<h4><a class="toc-backref" href="#id28" role="doc-backlink">metis_minconn</a><a class="headerlink" href="#metis-minconn" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies whether the partitioning procedure should seek to minimize the maximum degree of the subdomain graph (1); or not (0, default). The subdomain graph is the graph in which each partition is a node, and edges connect subdomains with a shared interface.</div>
<div class="line"><strong>Default</strong> : 0</div>
</div>
</section>
<section id="metis-contig">
<h4><a class="toc-backref" href="#id29" role="doc-backlink">metis_contig</a><a class="headerlink" href="#metis-contig" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong>  : specifies whether the partitioning procedure should produce partitions that are contiguous (1); or not (0, default). If the dual graph of the mesh is not connected this option is ignored.</div>
<div class="line"><strong>Default</strong>: <span class="math notranslate nohighlight">\(0\)</span></div>
</div>
</section>
<section id="metis-seed">
<h4><a class="toc-backref" href="#id30" role="doc-backlink">metis_seed</a><a class="headerlink" href="#metis-seed" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the seed for the random number generator.</div>
</div>
</section>
<section id="metis-dbglvl">
<h4><a class="toc-backref" href="#id31" role="doc-backlink">metis_dbglvl</a><a class="headerlink" href="#metis-dbglvl" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the amount and type of diagnostic information that will be written to <strong>stderr</strong> by the partitioning procedure. The default is <span class="math notranslate nohighlight">\(0\)</span>, no output. Use <span class="math notranslate nohighlight">\(1\)</span> to write some basic information. Refer to the METIS documentation for the many other possible values and the output they generate.</div>
<div class="line"><strong>Default</strong> : <span class="math notranslate nohighlight">\(0\)</span></div>
</div>
<div class="docutils container" id="id5">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-sjaardema2006exodus" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Gregory D Sjaardema, Larry A Schoof, and Victor R Yarberry. Exodus ii: a finite element data model. <em>Computational Mechanics and Visualization Department, Sandia National Laboratories, Albuquerque, NM</em>, 2006.</p>
</aside>
<aside class="footnote brackets" id="footcite-karypis1998fast" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id4">2</a>)</span>
<p>George Karypis and Vipin Kumar. A fast and high quality multilevel scheme for partitioning irregular graphs. <em>SIAM Journal on scientific Computing</em>, 20(1):359–392, 1998.</p>
</aside>
</aside>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../MATERIAL_and_PHASE_Namelists/index.html" class="btn btn-neutral float-left" title="18. MATERIAL and PHASE Namelists" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../MICROSTRUCTURE_Namelist/index.html" class="btn btn-neutral float-right" title="20. MICROSTRUCTURE Namelist" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2024, The Truchas Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>